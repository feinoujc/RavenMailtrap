@using MvcContrib.Pagination
@using MvcContrib.UI.Pager
@using MvcContrib.UI.Grid
@model IEnumerable<EmailServer.Model.Message>
@{
    ViewBag.Title = "Home Page";
}
@Html.Grid(Model).Columns(columns =>
                                        {
                                            columns.For(m => m.From).Sortable(true);
                                            columns.For(m => string.Join("; ", m.To)).Named("To").Sortable(false);
                                            columns.For(m => m.ReceivedDate).Sortable(true);
                                            columns.For(m => m.ServerHostName).Named("Server").Sortable(true);
                                            columns.Custom(m => Html.ActionLink("View", "View", new { id = m.Id }));
                                        }).Sort(ViewBag.Sort ?? new GridSortOptions())
@Html.Pager(Model as IPagination)
